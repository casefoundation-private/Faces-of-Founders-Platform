!function(e,t,a){var s,r,o,i;jQuery(document).ready(function(){"use strict";function t(t,a){e("html, body").animate({scrollTop:t,time:800},a)}if(e(".table-item table").tablesorter({sortList:[[0,0]]}),localStorage.judgeSorting!=a){var n=localStorage.judgeSorting.split(",");e(".table-item table").trigger("update"),e(".table-item table").trigger("sorton",[[n]])}e(window).load(function(){e(".footer-col").matchHeight({byRow:!0,property:"min-height",target:null,remove:!1}),e(".match-height").matchHeight({byRow:!0,property:"height",target:null,remove:!1})}),e(".read-full").click(function(t){t.preventDefault(),e(".item-menu #guideline").click()}),e(".page-template-dashboard-judge table tbody tr").click(function(){window.location=e(this).find(".btn-edit").attr("href")}),e(".page-template-dashboard-judge table th").click(function(){var t=0;switch(e(this).hasClass("headerSortUp")&&(t=1),e(this).html()){case"Name":localStorage.judgeSorting="0,"+t;break;case"Startup":localStorage.judgeSorting="1,"+t;break;case"Status":localStorage.judgeSorting="2,"+t;break;case"Q1":localStorage.judgeSorting="3,"+t;break;case"Q2":localStorage.judgeSorting="4,"+t;break;case"Q3":localStorage.judgeSorting="5,"+t;break;case"Q4":localStorage.judgeSorting="6,"+t;break;case"Average":localStorage.judgeSorting="7,"+t}}),e(".dash-filter a").click(function(t){t.preventDefault(),e(this).parents(".dash-filter").find("a").removeClass("active");var a=e(this).data("filter");switch(a){case"all":e(this).parents(".table-item").find("tr").removeClass("hidden"),e(this).addClass("active");break;case"complete":e(this).parents(".table-item").find("tr").removeClass("hidden"),e(this).parents(".table-item").find(".incomplete-row").addClass("hidden"),e(this).addClass("active");break;case"incomplete":e(this).parents(".table-item").find("tr").removeClass("hidden"),e(this).parents(".table-item").find(".completed-row").addClass("hidden"),e(this).addClass("active")}}),e(".download-csv").click(function(t){t.preventDefault(),jQuery.ajax({url:cslss.ajax_url,type:"post",data:{action:"download_csv"},success:function(t){if("success"==t.status){console.log(t);var a=e("<iframe/>",{src:t.file}).hide();e("body").append(a)}}})}),e(".autoassing-btn").click(function(t){t.preventDefault(),e(".main-content-container").addClass("getting-data");var a=e("input.no-review").val();jQuery.ajax({url:cslss.ajax_url,type:"post",data:{action:"autoassing_stories",noreview:a},success:function(t){e(".judges").empty(),e(".judges").append(t),e(".dashboard-container").removeClass("hidden"),e(".no-reviews").addClass("hidden"),e(".main-content-container").removeClass("getting-data")}})}),e(".page-template-dashboard .sidebar-menu a:not(.download-csv)").click(function(){var t=e(this).html(),a=e(this).attr("href");jQuery.ajax({url:cslss.ajax_url,type:"post",data:{action:"update_data",target:t},success:function(t){e(a+" table tbody").empty(),e(a+" table tbody").append(t),e(a+' .dash-filter a[data-filter="all"] span').html("("+(e(a+" table tr").length-1)+")"),e(a+' .dash-filter a[data-filter="complete"] span').html("("+e(a+" table .completed-row").length+")"),e(a+' .dash-filter a[data-filter="incomplete"] span').html("("+e(a+" table .incomplete-row").length+")"),e(".table-item table").trigger("update"),e(".table-item table").trigger("sorton",[[0,0]])}})}),e(".score-checkbox label").click(function(){var t=e(this).find(".score").html(),a=e(this).parents(".score-checkbox").data("answer"),s=e(".main-content-container").data("review");jQuery.ajax({url:cslss.ajax_url,type:"post",data:{action:"save_answer",review:s,answer:a,value:t},success:function(e){console.log(e)}})}),e(".complete-review").click(function(t){t.preventDefault();var a=e(".text-area-container textarea").val(),s=e(".main-content-container").data("review"),r=jQuery(".check-item input:checked");4==r.length?jQuery.ajax({url:cslss.ajax_url,type:"post",data:{action:"complete_review",review:s,answer1:r[0].value,answer2:r[1].value,answer3:r[2].value,answer4:r[3].value,comment:a},success:function(e){if(console.log(e),"false"!=e){var t=window.location.origin+"/dashboard-judge";window.location=t}else alert("unknown error occurred please try again")}}):swal({title:"Please rate all the answers",type:"error"})}),e(".save-for-later").click(function(t){t.preventDefault();var a=e(".text-area-container textarea").val(),s=e(".main-content-container").data("review"),r=jQuery(".story-1 .check-item input:checked").val(),o=jQuery(".story-2 .check-item input:checked").val(),i=jQuery(".story-3 .check-item input:checked").val(),n=jQuery(".story-4 .check-item input:checked").val();jQuery.ajax({url:cslss.ajax_url,type:"post",data:{action:"save_for_later",review:s,answer1:r,answer2:o,answer3:i,answer4:n,comment:a},success:function(e){if(console.log(e),"success"==e.status){var t=window.location.origin+"/dashboard-judge";window.location=t}else swal({title:"unknown error occurred please try again",type:"error"})}})}),e(".btn-recuse-review").click(function(t){t.preventDefault();var a=e(".main-content-container").data("review");swal({title:"Are you sure you want to recuse this review?",showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0,confirmButtonText:"Yes, Recuse"},function(){e(this).addClass("loading"),jQuery.ajax({url:cslss.ajax_url,type:"post",data:{action:"recuse_review",review:a},success:function(e){if(console.log(e),"false"!=e){var t=window.location.origin+"/dashboard-judge";window.location=t}else swal("unknown error occurred","Please try again","error")}})})}),e(".requests-more").click(function(t){t.preventDefault(),swal({title:"Thanks for your help!",text:"Enter the number of stories you want to request:",type:"input",showCancelButton:!0,closeOnConfirm:!1,animation:"slide-from-top",inputType:"number",customClass:"custom-input",showLoaderOnConfirm:!0},function(t){var a=e(".main-content-container").data("judge");return t!==!1&&(t<=0?(swal.showInputError("Must be greater than 0"),!1):""===t?(swal.showInputError("This field is required"),!1):void jQuery.ajax({url:cslss.ajax_url,type:"post",data:{action:"story_requests",judge:a,story_requests:t},success:function(e){"false"!=e?swal("Your request has been submitted"):swal("unknown error occurred","Please try again","error")}}))}),setTimeout(function(){e('.sweet-alert input[type="number"]').on("input",function(t){console.log(e(this).val()),e(this).val()<=0&&e(this).val(1)})},100)}),e(function(e){function t(){var t=e("#sidebar");e(window).scrollTop()>256?t.css({position:"fixed",top:"0px",left:"0px"}):t.css({position:"absolute",top:"0",left:"0"})}e(window).scroll(t),t()}),e(document).on("click",".navbar-collapse",function(t){e(t.target).is("a")&&e(this).collapse("hide")}),e(document).on("click",".reassign-row.incomplete-row",function(t){r=e(this).data("judgeid"),s=e(this).data("judge"),o=e(this).data("requests"),i=e(this).data("id"),e("#reassign-modal .requests").html(o),e("#reassign-modal .judge").html(s),e("#reassign-modal").modal("show")}),e(".recused-stories-btn").click(function(t){t.preventDefault(),e("#recused-stories-modal .requests").html(o),e("#recused-stories-modal .judge").html(s),jQuery.ajax({url:cslss.ajax_url,type:"post",data:{action:"get_recused_stories",judge:r},success:function(t){parseInt(t)>0?(e("#recused-stories-modal .recused").html(t),e("#recused-stories-modal input").attr("max",t),e("#reassign-modal").modal("hide"),setTimeout(function(){e("#recused-stories-modal").modal("show")},100)):swal({title:"There are no recused stories that can be assigned to this judge",type:"error"})}})}),e(".from-other-judges").click(function(t){t.preventDefault(),e("#other-judges-modal .requests").html(o),e("#other-judges-modal .judge").html(s),jQuery.ajax({url:cslss.ajax_url,type:"post",data:{action:"available_judges_for_judgeid",judge:r},success:function(t){"false"!=t?(e("#other-judges-modal select").html(t),e("#reassign-modal").modal("hide"),setTimeout(function(){e("#other-judges-modal").modal("show")},100)):swal("unknown error occurred","Please try again","error")}})}),e(".reassign-stories-other-judges").click(function(t){t.preventDefault();var a=e("#other-judges-modal select").val(),s=e("#other-judges-modal input").val();a.length>0&&(e("#other-judges-modal").addClass("loading"),jQuery.ajax({url:cslss.ajax_url,type:"post",data:{action:"reassign_stories_from_other_judges",target_judge:r,reassign_judges:a,number_of_stories:s,row:i},success:function(t){console.log(t),"success"==t.status?(e('#tbl-requests table tr[data-id="'+i+'"]').removeClass("incomplete-row"),e('#tbl-requests table tr[data-id="'+i+'"]').addClass("completed-row"),e('#tbl-requests .dash-filter a[data-filter="all"] span').html("("+(e("#tbl-requests table tr").length-1)+")"),e('#tbl-requests .dash-filter a[data-filter="complete"] span').html("("+e("#tbl-requests table .completed-row").length+")"),e('#tbl-requests .dash-filter a[data-filter="incomplete"] span').html("("+e("#tbl-requests table .incomplete-row").length+")"),e("#other-judges-modal").removeClass("loading"),e("#other-judges-modal").modal("hide")):swal("unknown error occurred","Please try again","error")}}))}),e(".reassign-recused-stories").click(function(t){t.preventDefault();var a=e("#recused-stories-modal input").val();a>0&&(e("#recused-stories-modal").addClass("loading"),jQuery.ajax({url:cslss.ajax_url,type:"post",data:{action:"reassign_recused_story_to_judge",judge:r,recuses:a,row:i},success:function(t){"false"!=t?(e('#tbl-requests table tr[data-id="'+i+'"]').removeClass("incomplete-row"),e('#tbl-requests table tr[data-id="'+i+'"]').addClass("completed-row"),e('#tbl-requests .dash-filter a[data-filter="all"] span').html("("+(e("#tbl-requests table tr").length-1)+")"),e('#tbl-requests .dash-filter a[data-filter="complete"] span').html("("+e("#tbl-requests table .completed-row").length+")"),e('#tbl-requests .dash-filter a[data-filter="incomplete"] span').html("("+e("#tbl-requests table .incomplete-row").length+")"),e("#recused-stories-modal").removeClass("loading"),e("#recused-stories-modal").modal("hide")):swal("unknown error occurred","Please try again","error")}}))}),e(document).on("click",".recused-row.incomplete-row",function(t){var a=e(this).data("storyid"),s=e(this).data("id");e("#recused-modal .author").html(e(this).data("author")),e("#recused-modal .judge").html(e(this).data("judge")),e("#recused-modal").data("story",a),e("#recused-modal").data("id",s),jQuery.ajax({url:cslss.ajax_url,type:"post",data:{action:"available_judges",story:a},success:function(t){"false"!=t?(e("#recused-modal #judges-list").html(t),e("#recused-modal").modal("show")):console.log("unknown error occurred, Please try again")}})}),e(".reassign-recuses").click(function(t){t.preventDefault();var a=e("#judges-list").val(),s=e("#recused-modal").data("story"),r=e("#recused-modal").data("id");""!=a&&(e("#recused-modal").addClass("loading"),jQuery.ajax({url:cslss.ajax_url,type:"post",data:{action:"reassign_recused_story",judge:a,story:s,row:r},success:function(t){"false"!=t?(e('#tbl-recuses table tr[data-id="'+r+'"]').removeClass("incomplete-row"),e('#tbl-recuses table tr[data-id="'+r+'"]').addClass("completed-row"),e('#tbl-recuses .dash-filter a[data-filter="all"] span').html("("+(e("#tbl-recuses table tr").length-1)+")"),e('#tbl-recuses .dash-filter a[data-filter="complete"] span').html("("+e("#tbl-recuses table .completed-row").length+")"),e('#tbl-recuses .dash-filter a[data-filter="incomplete"] span').html("("+e("#tbl-recuses table .incomplete-row").length+")"),e("#recused-modal").removeClass("loading"),e("#recused-modal").modal("hide")):console.log("unknown error occurred, Please try again")}}))}),e(".final-review").click(function(t){t.preventDefault();var a=parseInt(e('.dash-filter a[data-filter="incomplete"] span').html()),s=e(this).data("judge");a>0?swal({title:"You have "+a+" unreviewed stories",text:"Do you want to recuse the stories?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",closeOnConfirm:!1,customClass:"final-popup",showLoaderOnConfirm:!0},function(){jQuery.ajax({url:cslss.ajax_url,type:"post",data:{action:"final_review_incomplete",judge:s},success:function(e){"success"==e.status?swal({title:"Thanks!",text:"Your reviews have been submitted"},function(){location.reload()}):(console.log("Error: /n recused: "+e.recused+" updated: "+e.updated),swal({title:"Unknown error occurred",text:"Please try again",type:"error"}))}})}):0==a&&jQuery.ajax({url:cslss.ajax_url,type:"post",data:{action:"final_review_completed",judge:s},success:function(t){"success"==t.status?swal({title:"Your submissions have been sent!",text:"Do you want to request more stories for review?",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",closeOnConfirm:!1},function(){e(".requests-more").click()}):(console.log("unknown error occurred, Please try again"),swal({title:"Unknown error occurred",text:"Please try again",type:"error"}))}})}),e(".message-slider").slick({asNavFor:".founder-filters",slidesToScroll:1,slidesToShow:1,responsive:[{breakpoint:768,settings:{arrows:!1,draggable:!1}}]}),e(".founder-filters").slick({arrows:!1,asNavFor:".message-slider",fade:!0,slidesToScroll:1,slidesToShow:1,draggable:!1,responsive:[{breakpoint:768,settings:{arrows:!0}}]}),e(".founders-grid").slick({initialSlide:33,slidesToScroll:1,slidesToShow:5,rows:3,variableWidth:!1,autoplay:!0,autoplaySpeed:3e3,responsive:[{breakpoint:1296,settings:{slidesToShow:4}},{breakpoint:1045,settings:{slidesToShow:3}},{breakpoint:808,settings:{slidesToShow:2}},{breakpoint:580,settings:{arrows:!1,slidesToShow:2}}]}),jQuery(".image-imitation").draggable({drag:function(t,a){var s=e(".image-resizer"),r=e(".image-imitation"),o=e(".user-image");a.position.left>0&&(a.position.left=0),a.position.top>0&&(a.position.top=0),a.position.left+r.width()<s.width()&&(a.position.left=s.width()-r.width()),a.position.top+r.height()<s.height()&&(a.position.top=s.height()-r.height()),o.css(a.position)}}),e("#sigup-newsletter").click(function(){this.checked?e("input.email").prop("required",!0):e("input.email").prop("required",!1)}),e(".message-slider").on("afterChange",function(t,a,s){0==s?controlStep(!0,".step-3"):(e('.message-slider label[data-slick-index="'+s+'"] input[type="radio"]').prop("checked",!0),controlStep(!1,".step-3"),e(".founder-filters").slick("goTo",s))});var l=function(t){var a="Are you sure you want to navigate away from this page?";if(""!=e('.story textarea[name="your-business"]').val()||""!=e('.story textarea[name="biggest-obstacle"]').val()||""!=e('.story textarea[name="diversifying-entrepreneurship"]').val()||""!=e('.story input[name="full-name"]').val()||""!=e('.story input[name="email"]').val())return t=t||window.event,t&&(t.returnValue=a),a};e("body").hasClass("home")&&(isMobile.iOS()||isMobile.iOS_iPad())&&e('.story textarea[name="your-business"]').length>0&&e("a").click(function(t){var a=jQuery(this).attr("href"),s=jQuery(this).attr("target"),r=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");if(r.test(a)&&"_blank"!=s){var o=[];if(e.each(e(this).data("events"),function(t,a){e.each(a,function(e,t){o.push(t)})}),0==o.length){var i="Are you sure you want to navigate away from this page?";""==e('.story textarea[name="your-business"]').val()&&""==e('.story textarea[name="biggest-obstacle"]').val()&&""==e('.story textarea[name="diversifying-entrepreneurship"]').val()&&""==e('.story input[name="full-name"]').val()&&""==e('.story input[name="email"]').val()||confirm(i)||t.preventDefatul()}}}),e("body").hasClass("home")&&e('.story textarea[name="your-business"]').length>0&&(window.onbeforeunload=l),e("#create_story").validate({rules:{agreed:{required:!0}},messages:{agreed:{required:"You must agree with contest rules."}},submitHandler:function(a){e(a).find('[type="submit"]').hide(),e(a).find(".processing").show(),e(a).ajaxSubmit({success:function(s){e(a).find('[type="submit"]').removeAttr("style"),e(a).find(".processing").removeAttr("style");var r=JSON.parse(s);r.success&&(window.onbeforeunload=null,e("#create_story").slideUp(),e(".thank-you-story").slideDown(function(){t(jQuery(".thank-you-story").offset().top)}),jQuery('#create_story_step_2 input[name="post_id"]').val(r.response.post_id))}})}}),e("#create_story_step_2").validate({submitHandler:function(a){e(a).find('[type="submit"]').hide(),e(a).find(".processing").show(),e(a).ajaxSubmit({success:function(s){e(a).find('[type="submit"]').removeAttr("style"),e(a).find(".processing").removeAttr("style");var r=JSON.parse(s);r.success&&(e(".thank-you-story").slideUp(),e(".thank-you-story-2").slideDown(function(){t(jQuery(".thank-you-story-2").offset().top)}))}})}}),e("#nominate-entrepeneur").validate({submitHandler:function(t){e(t).find('[type="submit"]').hide(),e(t).find(".processing").show(),e(t).ajaxSubmit({success:function(a){e(t).find('[type="submit"]').removeAttr("style"),e(t).find(".processing").removeAttr("style");var s=JSON.parse(a);s.success&&(e(".thank-you-entrepeneur").show(),e("#nominate-entrepeneur").hide())}})}}),e(".maxchars").each(function(){var t="undefined"!=typeof e(this).data("max-chars")?e(this).data("max-chars"):200;e(this).after('<span class="char-count" data-for="'+e(this).attr("name")+'">'+t+"</span>"),e(this).siblings('[data-for="'+e(this).attr("name")+'"]').html(t-e(this).val().length)}).keydown(function(t){var a="undefined"!=typeof e(this).data("max-chars")?Number(e(this).data("max-chars")):200,s=[8,9,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46,144,145];e.inArray(t.keyCode,s)==-1&&e(this).val().length+1>a&&(t.preventDefault(),t.stopPropagation()),e(this).siblings('[data-for="'+e(this).attr("name")+'"]').html(a-e(this).val().length)}).keyup(function(t){var a="undefined"!=typeof e(this).data("max-chars")?Number(e(this).data("max-chars")):200;e(this).val().length>a&&e(this).val(e(this).val().substr(0,a)),e(this).siblings('[data-for="'+e(this).attr("name")+'"]').html(a-e(this).val().length)}),e("#main-header .btn.back").click(function(e){document.referrer==homepage_url&&(e.preventDefault(),window.history.back())}),jQuery(document).ready(function(e){e(".lwa-username-input input").attr("placeholder","Email"),e(".lwa-password-input input").attr("placeholder","Password")})})}(jQuery,this);var isMobile={Android:function(){return!!navigator.userAgent.match(/Android/i)},BlackBerry:function(){return!!navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)},iOS_iPad:function(){return!!navigator.userAgent.match(/iPad/i)},Windows:function(){return!!navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Windows()}};